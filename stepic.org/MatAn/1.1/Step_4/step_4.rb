#!/usr/bin/env ruby
# Найдите число членов последовательности x(n) = (2n−1)/(4n+5) , лежащих вне интервала (1/2−1/1000,1/2+1/1000)

def f1(n)
  return (2.0*n.to_f - 1.0)/(4.0*n.to_f + 5.0)
  #return (2*n−1)/(4*n+5)
end

c = 0
1.upto(99999) {|n|
  r1 = 1.0/2.0 - 1.0/1000.0
  r2 = 1.0/2.0 + 1.0/1000.0
  if f1(n) < r1 or f1(n) > r2
    c += 1
  end
}
p c
